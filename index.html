<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live Stream Player Fullscreen</title>

<!-- Shaka Player -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.11/shaka-player.ui.min.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.11/controls.min.css" crossorigin="anonymous">

<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    background: #000;
    overflow: hidden;
  }

  .shaka-video-container {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
  }

  video {
    width: 100%;
    height: 100%;
    object-fit: contain;
    background: #000;
  }

  /* LIVE Banner */
  .live-banner {
    position: absolute;
    top: 20px;
    right: 20px;
    z-index: 10;
    background: red;
    color: white;
    padding: 8px 16px;
    font-weight: bold;
    font-size: 16px;
    border-radius: 4px;
    text-transform: uppercase;
    animation: pulse 1s infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.8; }
  }

  /* Logo */
  .logo {
    position: absolute;
    top: 20px;
    left: 20px;
    z-index: 10;
    height: 60px;
  }
</style>
</head>

<body>

<!-- Logo -->
<img class="logo" src="" alt="Logo">

<!-- LIVE Banner -->
<div class="live-banner">WICKETGOAL.COM</div>

<!-- Shaka Player Video Container -->
<div class="shaka-video-container" data-shaka-player>
  <video autoplay playsinline preload="metadata" poster="https://assets.tntsports.io/web/img/og/tntsports.jpg"></video>
</div>

<script>
document.addEventListener('DOMContentLoaded', async () => {
  shaka.polyfill.installAll();

  if (!shaka.Player.isBrowserSupported()) {
    alert('Your browser does not support this player.');
    return;
  }

  const video = document.querySelector('video');
  const player = new shaka.Player();
  await player.attach(video);

  const container = document.querySelector('.shaka-video-container');
  const ui = new shaka.ui.Overlay(player, container, video);

  ui.configure({
    controlPanelElements: [
      'play_pause', 'time_and_duration', 'mute', 'volume',
      'spacer', 'language', 'captions', 'picture_in_picture',
      'quality', 'fullscreen'
    ]
  });

  // DRM Keys
  const drmConfig = {
    clearKeys: {
      "d0f2e5c39e70c18f29bf77768a1ad89a": "d6853c51fcf37a18905f0609972395d7"
    }
  };

  // DASH Stream URL
  const streamUrl = "https://ottb.live.cf.ww.aiv-cdn.net/lhr-nitro/live/dash/enc/bsaaetko8v/out/v1/bd3b0c314fff4bb1ab4693358f3cd2d3/cenc.mpd";

  player.configure({ drm: drmConfig, streaming: { lowLatencyMode: true } });

  try {
    await player.load(streamUrl);
    console.log("Stream loaded successfully");
  } catch (error) {
    console.error('Stream failed to load:', error);
    alert('Failed to load the live stream. It may be restricted in your region.');
  }
});
</script>
