<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live Stream Player Fullscreen</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.11/shaka-player.ui.min.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.11/controls.min.css" crossorigin="anonymous">

<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background: #000;
    overflow: hidden;
  }

  .shaka-video-container {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
  }

  .shaka-spinner-container,
.shaka-spinner,
.shaka-spinner-svg {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
}


  video {
    width: 100%;
    height: 100%;
    object-fit: contain;
    background: #000;
  }

  /* LIVE Banner */
  .live-banner {
    position: absolute;
    top: 20px;
    right: 80px;
    z-index: 10;
    background: red;
    color: white;
    padding: 8px 16px;
    font-weight: bold;
    font-size: 16px;
    border-radius: 4px;
    text-transform: uppercase;
    animation: pulse 1s infinite;
  }

  @keyframes pulse {
    0%,100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.8; }
  }

  /* Logo */
  .logo {
    position: absolute;
    top: 20px;
    left: 20px;
    z-index: 10;
    height: 60px;
  }

   /* Bottom-center overlay text (slightly higher) */
  #overlay-text {
    position: absolute;
    bottom: 60px; /* moved higher */
    left: 50%;
    transform: translateX(-50%);
    color: #fff;
    font-size: 22px;
    font-weight: 700;
    text-shadow: 2px 2px 6px rgba(0,0,0,0.8);
    z-index: 10;
    pointer-events: none;
    font-family: 'Roboto', sans-serif;
  } /* Bottom-center overlay text */
  #overlay-text {
    position: absolute;
    bottom: 5%;
    left: 50%;
    transform: translateX(-50%);
    color: rgba(255, 255, 255, 0.7);
    font-size: 1.2vw;
    min-font-size: 12px;
    max-font-size: 20px;
    font-weight: 600;
    text-shadow: 1px 1px 4px rgba(0,0,0,0.8);
    z-index: 10;
    pointer-events: none;
    font-family: 'Roboto', sans-serif;
  }

  @media (max-width: 600px) {
    #overlay-text {
      font-size: 14px;
      bottom: 8%;
    }
  }
</style>
</head>

<body>

<!-- Logo -->
<img  src="" alt="Logo">

<!-- LIVE Banner -->
<div class=""></div>

<!-- Shaka Player Video Container -->
<div class="shaka-video-container" data-shaka-player>
  <video autoplay playsinline preload="metadata" poster="https://assets.tntsports.io/web/img/og/tntsports.jpg"></video>
</div>
<div id="overlay-text">WicketGoal.com</div>
<script>
document.addEventListener('DOMContentLoaded', async () => {
  shaka.polyfill.installAll();

  if (!shaka.Player.isBrowserSupported()) {
    alert('Your browser does not support this player.');
    return;
  }

  const video = document.querySelector('video');
  const player = new shaka.Player();
  await player.attach(video);

  const container = document.querySelector('.shaka-video-container');
  const ui = new shaka.ui.Overlay(player, container, video);

  ui.configure({
    controlPanelElements: [
      'play_pause', 'time_and_duration', 'mute', 'volume',
      'spacer', 'language', 'captions', 'picture_in_picture',
      'quality', 'fullscreen'
    ]
  });

  // DRM Keys (if same for all streams)
  const drmConfig = {
    clearKeys: {
      "d0f2e5c39e70c18f29bf77768a1ad89a": "d6853c51fcf37a18905f0609972395d7"
    }
  };
  player.configure({ drm: drmConfig, streaming: { lowLatencyMode: true } });

  // Define MPD links
  const streams = {
    "1": "https://ottb.live.cf.ww.aiv-cdn.net/lhr-nitro/live/dash/enc/bsaaetko8v/out/v1/bd3b0c314fff4bb1ab4693358f3cd2d3/cenc.mpd",
    "2": "https://ottb.live.cf.ww.aiv-cdn.net/lhr-nitro/live/dash/enc/wf8usag51e/out/v1/bd3b0c314fff4bb1ab4693358f3cd2d3/cenc.mpd",
    "3": "https://example.com/stream3.mpd"
  };

  // Get 'id' parameter from URL
  const urlParams = new URLSearchParams(window.location.search);
  const id = urlParams.get('id') || "1"; // default to 1 if not provided

  const streamUrl = streams[id] || streams["1"]; // fallback to stream 1

  try {
    await player.load(streamUrl);
    console.log("Loaded stream ID:", id, streamUrl);
  } catch (error) {
    console.error("Failed to load stream:", error);
    alert("Failed to load the live stream. Check the stream ID or DRM.");
  }
});
</script>

</body>
</html>
