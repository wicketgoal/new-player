<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live Stream Player Fullscreen</title>

<!-- Shaka Player -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.11/shaka-player.ui.min.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.11/controls.min.css" crossorigin="anonymous">

<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    background: #000;
    overflow: hidden;
  }

  .shaka-video-container {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
  }

  video {
    width: 100%;
    height: 100%;
    object-fit: contain;
    background: #000;
  }

  /* LIVE Banner */
  .live-banner {
    position: absolute;
    top: 20px;
    right: 80px; /* shifted left */
    z-index: 10;
    background: red;
    color: white;
    padding: 8px 16px;
    font-weight: bold;
    font-size: 16px;
    border-radius: 4px;
    text-transform: uppercase;
    animation: pulse 1s infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.8; }
  }

  /* Logo */
  .logo {
    position: absolute;
    top: 20px;
    left: 20px;
    z-index: 10;
    height: 60px;
  }

  /* Dropdown */
  .stream-select {
    position: absolute;
    top: 20px;
    left: 100px; /* right of logo */
    z-index: 10;
    padding: 6px 10px;
    font-size: 14px;
    border-radius: 4px;
    border: none;
    outline: none;
    background: rgba(255,255,255,0.9);
  }
</style>
</head>

<body>

<!-- Logo -->
<img class="logo" src="https://blogger.googleusercontent.com/img/a/AVvXsEhoxpwoPC4C3SOKKQ2qhb-iDNeYGafQmJmu2CwtjzBBidp4JYJEFGjmjN4PFhO6Te5x2zNbzZlQqrBi2" alt="Logo">

<!-- LIVE Banner -->
<div class="live-banner">LIVE MATCH</div>

<!-- Stream Selector -->
<select class="stream-select" id="streamSelector">
  <option value="https://ottb.live.cf.ww.aiv-cdn.net/lhr-nitro/live/dash/enc/bsaaetko8v/out/v1/bd3b0c314fff4bb1ab4693358f3cd2d3/cenc.mpd">Stream 1</option>
  <option value="https://example.com/stream2.mpd">Stream 2</option>
  <option value="https://example.com/stream3.mpd">Stream 3</option>
</select>

<!-- Shaka Player Video Container -->
<div class="shaka-video-container" data-shaka-player>
  <video autoplay playsinline preload="metadata" poster="https://assets.tntsports.io/web/img/og/tntsports.jpg"></video>
</div>

<script>
document.addEventListener('DOMContentLoaded', async () => {
  shaka.polyfill.installAll();

  if (!shaka.Player.isBrowserSupported()) {
    alert('Your browser does not support this player.');
    return;
  }

  const video = document.querySelector('video');
  const player = new shaka.Player();
  await player.attach(video);

  const container = document.querySelector('.shaka-video-container');
  const ui = new shaka.ui.Overlay(player, container, video);

  ui.configure({
    controlPanelElements: [
      'play_pause', 'time_and_duration', 'mute', 'volume',
      'spacer', 'language', 'captions', 'picture_in_picture',
      'quality', 'fullscreen'
    ]
  });

  // DRM Keys
  const drmConfig = {
    clearKeys: {
      "d0f2e5c39e70c18f29bf77768a1ad89a": "d6853c51fcf37a18905f0609972395d7"
    }
  };

  player.configure({ drm: drmConfig, streaming: { lowLatencyMode: true } });

  // Function to load a stream
  async function loadStream(url) {
    try {
      await player.load(url);
      console.log('Stream loaded:', url);
    } catch (e) {
      console.error('Failed to load stream', e);
      alert('Failed to load the stream. Check the URL or DRM.');
    }
  }

  // Load initial stream
  const selector = document.getElementById('streamSelector');
  loadStream(selector.value);

  // Switch stream when dropdown changes
  selector.addEventListener('change', () => {
    loadStream(selector.value);
  });
});
</script>

</body>
</html>
